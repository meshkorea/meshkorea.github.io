{"version":3,"sources":["webpack:///./src/templates/post.tsx","webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./src/components/AuthorInfo.tsx","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/_string-ws.js"],"names":["PostHeading","Object","react_emotion__WEBPACK_IMPORTED_MODULE_7__","target","_styles_variables__WEBPACK_IMPORTED_MODULE_14__","white","props","titleImage","PostTitleContainer","_components_Container__WEBPACK_IMPORTED_MODULE_11__","PostWrapper","PostTitle","TOCWrapper","gray40","gray80","TOC","gray10","_styles_mixins__WEBPACK_IMPORTED_MODULE_13__","Article","gray5","PostAuthorInfo","_components_AuthorInfo__WEBPACK_IMPORTED_MODULE_8__","PostAuthorName","PostAuthorDesc","PostDate","PageTemplate","state","pageTop","handleOnScroll","_this","setState","window","scrollY","componentDidMount","this","addEventListener","componentWillUnmount","removeEventListener","render","post","data","markdownRemark","tags","frontmatter","split","map","x","trim","react__WEBPACK_IMPORTED_MODULE_6__","_layouts__WEBPACK_IMPORTED_MODULE_12__","_components_Page__WEBPACK_IMPORTED_MODULE_10__","childImageSharp","original","src","title","author","avatar","children","fixed","name","bio","date","_components_Icon__WEBPACK_IMPORTED_MODULE_9__","dangerouslySetInnerHTML","__html","tableOfContents","html","__webpack_exports__","query","__webpack_require__","$trim","createHTML","$export","fails","defined","quot","string","tag","attribute","value","S","String","p1","replace","module","exports","NAME","exec","O","P","F","test","toLowerCase","length","AuthorInfo","react_emotion__WEBPACK_IMPORTED_MODULE_0__","_styles_mixins__WEBPACK_IMPORTED_MODULE_1__","AuthorAvatar","_styles_variables__WEBPACK_IMPORTED_MODULE_2__","AuthorName","gray100","AuthorDesc","gray60","spaces","space","ltrim","RegExp","rtrim","exporter","KEY","ALIAS","exp","FORCE","fn","TYPE"],"mappings":"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","file":"component---src-templates-post-tsx-1ca6a3d8ae399c3391b8.js","sourcesContent":["import * as React from \"react\";\nimport styled from \"react-emotion\";\nimport { graphql } from \"gatsby\";\n\nimport AuthorInfo, {\n  AuthorAvatar as PostAuthorAvatar,\n  AuthorName,\n  AuthorDesc,\n} from \"../components/AuthorInfo\";\nimport Icon from \"../components/Icon\";\nimport Page from \"../components/Page\";\nimport Container from \"../components/Container\";\nimport IndexLayout from \"../layouts\";\nimport { fadeIn } from \"../styles/mixins\";\nimport { colors } from \"../styles/variables\";\n\ninterface PostTitleProps {\n  titleImage?: string;\n}\n\nconst PostHeading = styled.div`\n  height: 360px;\n  font-size: 1.125em;\n  color: ${colors.white};\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: PostTitleProps) =>\n    props.titleImage ? `url(${props.titleImage})` : \"none\"};\n`;\n\nconst PostTitleContainer = styled(Container)`\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: flex-start;\n  height: 100%;\n  padding: 0 70px 20px;\n`;\n\nconst PostWrapper = styled.article`\n  font-size: 1.25rem;\n`;\n\nconst PostTitle = styled.h1`\n  margin: 0;\n  word-break: keep-all;\n`;\n\nconst TOCWrapper = styled.nav`\n  position: absolute;\n  margin-top: 0.15em;\n  width: 30px;\n  line-height: 1.5rem;\n  color: ${colors.gray40};\n  transition: color 0.5s;\n\n  &:hover {\n    color: ${colors.gray80};\n  }\n`;\n\nconst TOC = styled.div`\n  position: absolute;\n  top: -0.75em;\n  left: 30px;\n  z-index: 50;\n  font-size: 1rem;\n\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    list-style-image: none;\n\n    p {\n      margin: 0;\n    }\n\n    a {\n      display: block;\n      margin-left: -0.5rem;\n      margin-right: -0.5rem;\n      padding: 0.3rem 0.5rem;\n      border-radius: 0.5rem;\n      transition: background-color 0.5s;\n\n      &:hover {\n        background-color: ${colors.gray10};\n      }\n    }\n\n    &:not(:first-child) {\n      padding-left: 1rem;\n    }\n  }\n\n  > ul {\n    width: 240px;\n    max-height: 360px;\n    overflow-y: auto;\n    padding: 0.5rem 1rem;\n    display: none;\n    background: ${colors.white};\n    border-radius: 10px;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);\n  }\n\n  li {\n  }\n\n  nav:hover & ul,\n  nav &:hover ul {\n    display: block;\n    animation: ${fadeIn} 0.5s;\n  }\n`;\n\nconst Article = styled.article`\n  padding: 0 70px;\n\n  > * {\n    margin: 1.5em 0;\n  }\n\n  .image-wrapper {\n    margin-left: -70px;\n    margin-right: -70px;\n    text-align: center;\n\n    > * {\n      max-width: 940px;\n    }\n  }\n\n  .image-caption {\n    margin-top: 0.75em;\n    font-size: 0.833em;\n    text-align: center;\n    color: ${colors.gray80};\n  }\n\n  > p {\n    line-height: 1.56;\n  }\n\n  pre,\n  code,\n  kbd,\n  samp {\n    padding: 0.125em 0.3125em;\n    white-space: pre-wrap;\n    font-size: 0.889rem;\n    background: ${colors.gray5};\n    border-radius: 3px;\n  }\n\n  pre {\n    padding-top: 0.5em;\n    padding-bottom: 0.5em;\n  }\n\n  pre code {\n    background: none;\n    padding: 0;\n  }\n\n  a:hover,\n  a:active {\n    text-decoration: underline;\n  }\n`;\n\nconst PostAuthorInfo = styled(AuthorInfo)`\n  margin-top: 40px;\n`;\nconst PostAuthorName = styled(AuthorName)`\n  margin-top: 2px;\n  margin-left: 70px;\n  font-size: 1.125rem;\n`;\nconst PostAuthorDesc = styled(AuthorDesc)`\n  margin-left: 70px;\n`;\n\nconst PostDate = styled(PostAuthorDesc)`\n  margin-top: 18px;\n  margin-bottom: 1.5rem;\n`;\n\ninterface PageTemplateProps {\n  data: {\n    site: {\n      siteMetadata: {\n        title: string;\n        description: string;\n        author: {\n          name: string;\n          url: string;\n        };\n      };\n    };\n    markdownRemark: {\n      html: string;\n      excerpt: string;\n      tableOfContents: string;\n      frontmatter: {\n        author: {\n          id: string;\n          name: string;\n          bio: string;\n          avatar: {\n            children: Array<{\n              fixed: {\n                src: string;\n              };\n            }>;\n          };\n        };\n        authorDesc: string;\n        date: string;\n        tags?: string;\n        title: string;\n        titleImage: {\n          childImageSharp: {\n            original: {\n              src: string;\n            };\n          };\n        };\n      };\n    };\n  };\n}\n\ninterface PageTemplateState {\n  pageTop: number;\n}\n\nclass PageTemplate extends React.PureComponent<\n  PageTemplateProps,\n  PageTemplateState\n> {\n  public readonly state: PageTemplateState = {\n    pageTop: 0,\n  };\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public render() {\n    const post = this.props.data.markdownRemark;\n    const tags = (post.frontmatter.tags || \"\").split(\",\").map(x => x.trim());\n\n    return (\n      <IndexLayout>\n        <Page>\n          <PostHeading\n            titleImage={\n              post.frontmatter.titleImage.childImageSharp.original.src\n            }\n          >\n            <PostTitleContainer>\n              <PostTitle>{post.frontmatter.title}</PostTitle>\n              <div>{tags.map(x => `#${x}`)}</div>\n            </PostTitleContainer>\n          </PostHeading>\n          <Container>\n            <PostAuthorInfo>\n              <PostAuthorAvatar\n                src={post.frontmatter.author.avatar.children[0].fixed.src}\n              />\n              <PostAuthorName>{post.frontmatter.author.name}</PostAuthorName>\n              <PostAuthorDesc>{post.frontmatter.author.bio}</PostAuthorDesc>\n              <PostDate>{post.frontmatter.date}</PostDate>\n            </PostAuthorInfo>\n            <PostWrapper>\n              <TOCWrapper>\n                <Icon name=\"TOC\" />\n                <TOC\n                  dangerouslySetInnerHTML={{\n                    __html: post.tableOfContents,\n                  }}\n                />\n              </TOCWrapper>\n              <Article dangerouslySetInnerHTML={{ __html: post.html }} />\n            </PostWrapper>\n          </Container>\n        </Page>\n      </IndexLayout>\n    );\n  }\n\n  private handleOnScroll = () => {\n    this.setState({ pageTop: window.scrollY });\n  };\n}\n\nexport default PageTemplate;\n\nexport const query = graphql`\n  query PostTemplateQuery($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      excerpt\n      tableOfContents\n      frontmatter {\n        author {\n          id\n          name\n          bio\n          avatar {\n            children {\n              ... on ImageSharp {\n                fixed(width: 96, height: 96, quality: 85) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        date\n        title\n        tags\n        titleImage {\n          childImageSharp {\n            original {\n              src\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","import styled from \"react-emotion\";\n\nimport { clearfix } from \"../styles/mixins\";\nimport { colors } from \"../styles/variables\";\n\ninterface BackgroundFigureProps {\n  src?: string;\n}\n\nconst AuthorInfo = styled.aside`\n  ${clearfix} margin-top: 10px;\n`;\n\nexport const AuthorAvatar = styled.figure`\n  float: left;\n  margin: 0;\n  width: 3rem;\n  height: 3rem;\n  border-radius: 1.5rem;\n  background-color: ${colors.gray10};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: BackgroundFigureProps) =>\n    props.src ? `url(${props.src})` : \"none\"};\n`;\n\nexport const AuthorName = styled.strong`\n  display: block;\n  margin: 4px 0 0 60px;\n  font-weight: 600;\n  line-height: 1.3;\n  color: ${colors.gray100};\n`;\n\nexport const AuthorDesc = styled.aside`\n  margin-left: 60px;\n  font-size: 0.875rem;\n  color: ${colors.gray60};\n`;\n\nexport default AuthorInfo;\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}