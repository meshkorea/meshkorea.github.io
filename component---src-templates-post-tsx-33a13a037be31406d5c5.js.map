{"version":3,"sources":["webpack:///./src/components/PostHeading.tsx","webpack:///./src/templates/post.tsx","webpack:///./src/components/AuthorInfo.tsx","webpack:///./src/utils/tag.tsx"],"names":["Wrapper","Object","index_esm","target","variables","white","gray80","props","titleImage","PostTitleContainer","Container","PostTitle","components_PostHeading","state","pageTop","handleOnScroll","window","requestAnimationFrame","_this","setState","scrollY","componentDidMount","this","addEventListener","componentWillUnmount","removeEventListener","render","_this$props","title","tags","react","style","backgroundPosition","Math","max","tag","PostWrapper","ShareSheet","fixed","gray60","gray40","mixins","lg","ShareSheetTitles","TOCWrapper","TOC","gray10","Article","PostAuthorInfo","AuthorInfo","PostAuthorName","PostAuthorDesc","PostDate","post_PageTemplate","shareSheetFixed","tocFixed","offsets","calculateFloatingElements","calculateOffsets","document","getElementById","querySelectorAll","forEach","x","element","push","offsetTop","offsetHeight","_this2","post","data","markdownRemark","seeAlso","fields","github","icon","label","uri","undefined","playstore","appstore","link","linkDesc","filter","layouts","Page","frontmatter","childImageSharp","resize","src","es","_ref","location","FacebookShareButton","url","href","Icon","name","TwitterShareButton","length","map","key","author","avatar","children","bio","date","id","dangerouslySetInnerHTML","__html","tableOfContents","html","query","__webpack_exports__","react_emotion__WEBPACK_IMPORTED_MODULE_0__","_styles_mixins__WEBPACK_IMPORTED_MODULE_1__","AuthorAvatar","_styles_variables__WEBPACK_IMPORTED_MODULE_2__","AuthorName","gray100","AuthorDesc","TagLink","handleOnClick","e","preventDefault","stopPropagation","gatsby__WEBPACK_IMPORTED_MODULE_5__","tagName","react__WEBPACK_IMPORTED_MODULE_4__","onClick","transformTags","withLink","split","trim","join"],"mappings":"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","file":"component---src-templates-post-tsx-33a13a037be31406d5c5.js","sourcesContent":["import * as React from \"react\";\nimport styled from \"react-emotion\";\n\nimport Container from \"../components/Container\";\nimport { colors } from \"../styles/variables\";\nimport { transformTags } from \"../utils/tag\";\n\ninterface PostHeadingProps {\n  titleImage: string;\n  title: string;\n  tags?: string;\n}\n\ninterface PostHeadingState {\n  pageTop: number;\n}\n\ninterface PostTitleProps {\n  titleImage?: string;\n}\n\nconst Wrapper = styled.div`\n  height: 360px;\n  font-size: 1.125em;\n  color: ${colors.white};\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n  background-color: ${colors.gray80};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: PostTitleProps) =>\n    props.titleImage ? `url(${props.titleImage})` : \"none\"};\n`;\n\nconst PostTitleContainer = styled(Container)`\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: flex-start;\n  height: 100%;\n  padding: 0 70px 20px;\n\n  > div span {\n    margin-right: 0.4em;\n    cursor: pointer;\n    opacity: 0.75;\n    transition: opacity 0.5s;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n`;\n\nconst PostTitle = styled.h1`\n  margin: 0;\n  word-break: keep-all;\n`;\n\nclass PostHeading extends React.PureComponent<\n  PostHeadingProps,\n  PostHeadingState\n> {\n  public readonly state: PostHeadingState = {\n    pageTop: 0,\n  };\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public render() {\n    const { titleImage, title, tags } = this.props;\n    return (\n      <Wrapper\n        titleImage={titleImage}\n        style={{\n          backgroundPosition: `50% ${50 -\n            Math.max(this.state.pageTop, 0) / 20}%`,\n        }}\n      >\n        <PostTitleContainer>\n          <PostTitle>{title}</PostTitle>\n          <div>{transformTags(tags, true)}</div>\n        </PostTitleContainer>\n      </Wrapper>\n    );\n  }\n\n  private handleOnScroll = () => {\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this.setState({ pageTop: window.scrollY });\n      });\n    } else {\n      this.setState({ pageTop: window.scrollY });\n    }\n  };\n}\n\nexport default PostHeading;\n","import * as React from \"react\";\nimport { FacebookShareButton, TwitterShareButton } from \"react-share\";\nimport styled from \"react-emotion\";\nimport { graphql } from \"gatsby\";\nimport { Location } from \"@reach/router\";\n\nimport AuthorInfo, {\n  AuthorAvatar as PostAuthorAvatar,\n  AuthorName,\n  AuthorDesc,\n} from \"../components/AuthorInfo\";\nimport Icon from \"../components/Icon\";\nimport Page from \"../components/Page\";\nimport PostHeading from \"../components/PostHeading\";\nimport Container from \"../components/Container\";\nimport IndexLayout from \"../layouts\";\nimport { getEmSize, fadeIn, articleStyle } from \"../styles/mixins\";\nimport { colors, breakpoints } from \"../styles/variables\";\n\ninterface SeeAlsoItem {\n  icon: \"APP_STORE\" | \"GITHUB\" | \"PLAY_STORE\" | \"WEB\";\n  uri: string;\n  label: string;\n}\n\nconst PostWrapper = styled.article`\n  font-size: 1.25rem;\n`;\n\ninterface ShareSheetProps {\n  fixed: boolean;\n}\n\nconst ShareSheet = styled.aside`\n  position: ${(props: ShareSheetProps) => (props.fixed ? \"fixed\" : \"absolute\")};\n  top: ${(props: ShareSheetProps) => (props.fixed ? \"131px\" : \"auto\")};\n  right: 50%;\n  font-size: 0.75rem;\n  font-weight: 500;\n  text-align: right;\n  color: ${colors.gray60};\n  transform: translateX(470px);\n\n  a,\n  .SocialMediaShareButton {\n    position: relative;\n    display: block;\n    margin-left: auto;\n    margin-bottom: 0.625rem;\n    width: 24px;\n    color: ${colors.gray40};\n    cursor: pointer;\n    transition: color 0.5s;\n\n    &:hover {\n      color: ${colors.gray60};\n    }\n\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  a {\n    &:hover::before {\n      position: absolute;\n      top: 0.5rem;\n      right: 26px;\n      width: 0;\n      height: 0;\n      content: attr(title);\n      color: rgba(0, 0, 0, 0);\n      overflow: hidden;\n      border-left: 4px solid rgba(0, 0, 0, 0.5);\n      border-top: 4px solid transparent;\n      border-bottom: 4px solid transparent;\n    }\n\n    &:hover::after {\n      position: absolute;\n      top: 0.125rem;\n      right: 30px;\n      content: attr(title);\n      padding: 0 10px;\n      font-size: 1.167em;\n      white-space: nowrap;\n      color: #fff;\n      border-radius: 5px;\n      background: rgba(0, 0, 0, 0.5);\n    }\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.lg)}em) {\n    display: none;\n  }\n`;\n\nconst ShareSheetTitles = styled.h5`\n  margin: 1rem 0 5px;\n  font-size: 1em;\n  font-weight: inherit;\n\n  &:first-of-type {\n    margin-top: 0;\n  }\n`;\n\nconst TOCWrapper = styled.nav`\n  color: ${colors.gray40};\n  transition: color 0.5s;\n\n  &:hover {\n    color: ${colors.gray80};\n  }\n\n  > i {\n    position: ${(props: ShareSheetProps) =>\n      props.fixed ? \"fixed\" : \"absolute\"};\n    top: ${(props: ShareSheetProps) => (props.fixed ? \"125px\" : \"auto\")};\n    margin-top: 0.15em;\n    width: 30px;\n    line-height: 1.5rem;\n  }\n\n  > div {\n    position: ${(props: ShareSheetProps) =>\n      props.fixed ? \"fixed\" : \"absolute\"};\n    top: ${(props: ShareSheetProps) => (props.fixed ? \"115px\" : \"auto\")};\n    margin-left: 30px;\n  }\n`;\n\nconst TOC = styled.div`\n  z-index: 50;\n  font-size: 1rem;\n\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    list-style-image: none;\n\n    p {\n      margin: 0;\n    }\n\n    a {\n      display: block;\n      margin-left: -0.5rem;\n      margin-right: -0.5rem;\n      padding: 0.3rem 0.5rem;\n      border-radius: 0.5rem;\n      transition: background-color 0.5s;\n\n      &:hover {\n        background-color: ${colors.gray10};\n      }\n    }\n\n    &:not(:first-child) {\n      padding-left: 1rem;\n    }\n  }\n\n  > ul {\n    width: 240px;\n    max-height: 360px;\n    overflow-y: auto;\n    padding: 0.5rem 1rem;\n    display: none;\n    background: ${colors.white};\n    border-radius: 10px;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);\n  }\n\n  li {\n  }\n\n  nav:hover & ul,\n  nav &:hover ul {\n    display: block;\n    animation: ${fadeIn} 0.5s;\n  }\n`;\n\nconst Article = styled.article`\n  ${articleStyle} padding: 0 70px;\n`;\n\nconst PostAuthorInfo = styled(AuthorInfo)`\n  margin-top: 40px;\n`;\nconst PostAuthorName = styled(AuthorName)`\n  margin-top: 2px;\n  margin-left: 70px;\n  font-size: 1.125rem;\n`;\nconst PostAuthorDesc = styled(AuthorDesc)`\n  margin-left: 70px;\n`;\n\nconst PostDate = styled(PostAuthorDesc)`\n  margin-top: 18px;\n  margin-bottom: 1.5rem;\n`;\n\ninterface PageTemplateProps {\n  data: {\n    site: {\n      siteMetadata: {\n        title: string;\n        description: string;\n        author: {\n          name: string;\n          url: string;\n        };\n      };\n    };\n    markdownRemark: {\n      html: string;\n      excerpt: string;\n      tableOfContents: string;\n      fields: {\n        github?: string;\n        playstore?: string;\n        appstore?: string;\n        link?: string;\n        linkDesc?: string;\n      };\n      frontmatter: {\n        author: {\n          id: string;\n          name: string;\n          bio: string;\n          avatar: {\n            children: Array<{\n              fixed: {\n                src: string;\n              };\n            }>;\n          };\n        };\n        authorDesc: string;\n        date: string;\n        tags?: string;\n        title: string;\n        titleImage: {\n          childImageSharp: {\n            resize: {\n              src: string;\n            };\n          };\n        };\n      };\n    };\n  };\n}\n\ninterface PageTemplateState {\n  shareSheetFixed: boolean;\n  tocFixed: boolean;\n}\n\nclass PageTemplate extends React.PureComponent<\n  PageTemplateProps,\n  PageTemplateState\n> {\n  public readonly state: PageTemplateState = {\n    shareSheetFixed: false,\n    tocFixed: false,\n  };\n\n  private offsets: number[] = [];\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n    this.calculateOffsets();\n    window.addEventListener(\"resize\", this.calculateOffsets);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n    window.removeEventListener(\"resize\", this.calculateOffsets);\n  }\n\n  public render() {\n    const post = this.props.data.markdownRemark;\n    const seeAlso = [\n      post.fields.github\n        ? {\n            icon: \"GITHUB\",\n            label: \"GitHub 저장소 바로가기\",\n            uri: post.fields.github,\n          }\n        : undefined,\n      post.fields.playstore\n        ? {\n            icon: \"PLAY_STORE\",\n            label: \"Play Store 바로가기\",\n            uri: post.fields.playstore,\n          }\n        : undefined,\n      post.fields.appstore\n        ? {\n            icon: \"APP_STORE\",\n            label: \"App Store 바로가기\",\n            uri: post.fields.appstore,\n          }\n        : undefined,\n      post.fields.link\n        ? {\n            icon: \"WEB\",\n            label: post.fields.linkDesc || \"관련 링크\",\n            uri: post.fields.link,\n          }\n        : undefined,\n    ].filter(x => x) as SeeAlsoItem[];\n\n    return (\n      <IndexLayout>\n        <Page>\n          <PostHeading\n            titleImage={post.frontmatter.titleImage.childImageSharp.resize.src}\n            title={post.frontmatter.title}\n            tags={post.frontmatter.tags}\n          />\n          <Container>\n            <Location>\n              {({ location }) => (\n                <ShareSheet fixed={this.state.shareSheetFixed}>\n                  <ShareSheetTitles>Share</ShareSheetTitles>\n                  <FacebookShareButton url={location.href}>\n                    <Icon name=\"FACEBOOK\" />\n                  </FacebookShareButton>\n                  <TwitterShareButton\n                    title=\"Twitter로 공유\"\n                    url={location.href}\n                  >\n                    <Icon name=\"TWITTER\" />\n                  </TwitterShareButton>\n                  {seeAlso.length ? (\n                    <ShareSheetTitles>See also</ShareSheetTitles>\n                  ) : null}\n                  {seeAlso.map(x => (\n                    <a\n                      key={x.icon}\n                      href={x!.uri}\n                      target=\"_blank\"\n                      title={x.label}\n                    >\n                      <Icon name={x!.icon} />\n                    </a>\n                  ))}\n                </ShareSheet>\n              )}\n            </Location>\n            <PostAuthorInfo>\n              <PostAuthorAvatar\n                src={post.frontmatter.author.avatar.children[0].fixed.src}\n              />\n              <PostAuthorName>{post.frontmatter.author.name}</PostAuthorName>\n              <PostAuthorDesc>{post.frontmatter.author.bio}</PostAuthorDesc>\n              <PostDate>{post.frontmatter.date}</PostDate>\n            </PostAuthorInfo>\n            <PostWrapper id=\"article\">\n              <TOCWrapper fixed={this.state.tocFixed}>\n                <Icon name=\"TOC\" />\n                <TOC\n                  dangerouslySetInnerHTML={{\n                    __html: post.tableOfContents,\n                  }}\n                />\n              </TOCWrapper>\n              <Article dangerouslySetInnerHTML={{ __html: post.html }} />\n            </PostWrapper>\n          </Container>\n        </Page>\n      </IndexLayout>\n    );\n  }\n\n  private handleOnScroll = () => {\n    const calculateFloatingElements = () => {\n      if (window.scrollY > 335 && !this.state.shareSheetFixed) {\n        this.setState({ shareSheetFixed: true });\n      } else if (window.scrollY < 335 && this.state.shareSheetFixed) {\n        this.setState({ shareSheetFixed: false });\n      }\n\n      if (window.scrollY > 506 && !this.state.tocFixed) {\n        this.setState({ tocFixed: true });\n      } else if (window.scrollY < 506 && this.state.tocFixed) {\n        this.setState({ tocFixed: false });\n      }\n    };\n\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        calculateFloatingElements();\n      });\n    } else {\n      calculateFloatingElements();\n    }\n  };\n\n  private calculateOffsets = () => {\n    const articleContainer = document.getElementById(\"article\")!;\n    const wideElements = articleContainer.querySelectorAll(\n      \".gatsby-resp-image-wrapper, .gatsby-resp-iframe-wrapper, .image-wrapper\",\n    );\n    wideElements.forEach(x => {\n      const element = x as HTMLElement;\n      this.offsets.push(element.offsetTop);\n      this.offsets.push(element.offsetTop + element.offsetHeight);\n    });\n  };\n}\n\nexport default PageTemplate;\n\nexport const query = graphql`\n  query PostTemplateQuery($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      excerpt\n      tableOfContents\n      fields {\n        github\n        playstore\n        appstore\n        link\n        linkDesc\n      }\n      frontmatter {\n        author {\n          id\n          name\n          bio\n          avatar {\n            children {\n              ... on ImageSharp {\n                fixed(width: 96, height: 96, quality: 85) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        date\n        title\n        tags\n        titleImage {\n          childImageSharp {\n            resize(width: 1920) {\n              src\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import styled from \"react-emotion\";\n\nimport { clearfix } from \"../styles/mixins\";\nimport { colors } from \"../styles/variables\";\n\ninterface BackgroundFigureProps {\n  src?: string;\n}\n\nconst AuthorInfo = styled.aside`\n  ${clearfix} margin-top: 10px;\n`;\n\nexport const AuthorAvatar = styled.figure`\n  float: left;\n  margin: 0;\n  width: 3rem;\n  height: 3rem;\n  border-radius: 1.5rem;\n  background-color: ${colors.gray10};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: BackgroundFigureProps) =>\n    props.src ? `url(${props.src})` : \"none\"};\n`;\n\nexport const AuthorName = styled.strong`\n  display: block;\n  margin: 4px 0 0 60px;\n  font-weight: 600;\n  line-height: 1.3;\n  color: ${colors.gray100};\n`;\n\nexport const AuthorDesc = styled.aside`\n  margin-left: 60px;\n  font-size: 0.875rem;\n  color: ${colors.gray60};\n`;\n\nexport default AuthorInfo;\n","import * as React from \"react\";\nimport { navigate } from \"gatsby\";\n\ntype Tags = string | undefined;\n\ninterface TagLinkProps {\n  tagName: string;\n}\n\nclass TagLink extends React.PureComponent<TagLinkProps> {\n  public render() {\n    return <span onClick={this.handleOnClick}>#{this.props.tagName}</span>;\n  }\n\n  private handleOnClick = (e: React.MouseEvent<HTMLSpanElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigate(`/tags/${this.props.tagName}`);\n  };\n}\n\nexport const transformTags = (tags: Tags = \"\", withLink?: boolean) =>\n  withLink\n    ? tags.split(\",\").map(x => <TagLink key={x} tagName={x.trim()} />)\n    : tags\n        .split(\",\")\n        .map(x => `#${x.trim()}`)\n        .join(\" \");\n"],"sourceRoot":""}