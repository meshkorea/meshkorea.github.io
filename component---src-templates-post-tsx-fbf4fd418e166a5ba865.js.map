{"version":3,"sources":["webpack:///./src/components/PostHeading.tsx","webpack:///./src/templates/post.tsx","webpack:///./src/components/AuthorInfo.tsx","webpack:///./src/utils/tag.tsx"],"names":["Wrapper","Object","index_esm","target","variables","white","gray80","props","titleImage","PostTitleContainer","Container","mixins","sm","md","mobileFixed","gray90","gray5","xs","PostTitle","components_PostHeading","state","pageTop","handleOnScroll","window","requestAnimationFrame","_this","setState","scrollY","componentDidMount","this","addEventListener","componentWillUnmount","removeEventListener","render","_this$props","title","tags","react","style","backgroundPosition","Math","max","tag","PostWrapper","ShareSheet","fixed","gray60","gray40","lg","ShareSheetTitles","TOCWrapper","gray15","TOC","gray10","Article","PostAuthorAvatar","AuthorInfo","PostAuthorInfo","PostAuthorName","PostAuthorDesc","PostDate","post_PageTemplate","shareSheetFixed","tocFixed","offsets","calculateFloatingElements","innerWidth","calculateOffsets","document","getElementById","querySelectorAll","forEach","x","element","push","offsetTop","offsetHeight","_this2","post","data","markdownRemark","seeAlso","fields","github","icon","label","uri","undefined","playstore","appstore","link","linkDesc","filter","layouts","Page","frontmatter","childImageSharp","resize","src","es","_ref","location","FacebookShareButton","url","href","Icon","name","TwitterShareButton","length","map","key","author","avatar","children","bio","date","id","dangerouslySetInnerHTML","__html","tableOfContents","html","query","react_emotion__WEBPACK_IMPORTED_MODULE_0__","_styles_mixins__WEBPACK_IMPORTED_MODULE_1__","AuthorAvatar","_styles_variables__WEBPACK_IMPORTED_MODULE_2__","AuthorName","gray100","AuthorDesc","__webpack_exports__","TagLink","handleOnClick","e","preventDefault","stopPropagation","gatsby__WEBPACK_IMPORTED_MODULE_5__","tagName","react__WEBPACK_IMPORTED_MODULE_4__","onClick","transformTags","withLink","split","trim","join"],"mappings":"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","file":"component---src-templates-post-tsx-fbf4fd418e166a5ba865.js","sourcesContent":["import * as React from \"react\";\nimport styled from \"react-emotion\";\n\nimport Container from \"../components/Container\";\nimport { getEmSize } from \"../styles/mixins\";\nimport { colors, breakpoints } from \"../styles/variables\";\nimport { transformTags } from \"../utils/tag\";\n\ninterface PostHeadingProps {\n  titleImage: string;\n  title: string;\n  tags?: string;\n}\n\ninterface PostHeadingState {\n  pageTop: number;\n}\n\ninterface PostTitleProps {\n  titleImage?: string;\n}\n\ninterface PostTitleContainerProps {\n  mobileFixed: boolean;\n}\n\nconst Wrapper = styled.div`\n  height: 360px;\n  font-size: 1.125em;\n  color: ${colors.white};\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n  background-color: ${colors.gray80};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: PostTitleProps) =>\n    props.titleImage ? `url(${props.titleImage})` : \"none\"};\n`;\n\nconst PostTitleContainer = styled(Container)`\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: flex-start;\n  height: 100%;\n  padding: 0 90px 20px;\n\n  > div span {\n    margin-right: 0.4em;\n    cursor: pointer;\n    opacity: 0.75;\n    transition: opacity 0.5s;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  @media (min-width: ${getEmSize(\n      breakpoints.sm,\n    )}em) and (max-width: ${getEmSize(breakpoints.md)}em) {\n    padding-left: 60px;\n    padding-right: 60px;\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.sm)}em) {\n    ${(props: PostTitleContainerProps) =>\n      props.mobileFixed\n        ? `\n    position: fixed;\n    justify-content: center;\n    top: 45px;\n    left: 0;\n    right: 0;\n    z-index: 1000;\n    height: 44px;\n    padding: 0 16px 0 56px !important;\n    color: ${colors.gray90};\n    text-shadow: none;\n    background: ${colors.gray5};\n\n    > h1 {\n      font-size: 1rem;\n      font-weight: 500;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    > div {\n      display: none;\n    }\n    `\n        : \"\"} padding-left: 56px;\n    padding-right: 56px;\n  }\n\n  @media (min-width: ${getEmSize(\n      breakpoints.xs,\n    )}em) and (max-width: ${getEmSize(breakpoints.sm)}em) {\n    padding-left: 56px;\n    padding-right: 56px;\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.xs)}em) {\n    padding-left: 16px;\n    padding-right: 16px;\n  }\n`;\n\nconst PostTitle = styled.h1`\n  font-size: 2.5rem;\n  margin: 0;\n  word-break: keep-all;\n\n  @media (max-width: ${getEmSize(breakpoints.md)}em) {\n    font-size: 2rem;\n  }\n`;\n\nclass PostHeading extends React.PureComponent<\n  PostHeadingProps,\n  PostHeadingState\n> {\n  public readonly state: PostHeadingState = {\n    pageTop: 0,\n  };\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public render() {\n    const { titleImage, title, tags } = this.props;\n    return (\n      <Wrapper\n        titleImage={titleImage}\n        style={{\n          backgroundPosition: `50% ${50 -\n            Math.max(this.state.pageTop, 0) / 20}%`,\n        }}\n      >\n        <PostTitleContainer mobileFixed={this.state.pageTop > 414}>\n          <PostTitle>{title}</PostTitle>\n          <div>{transformTags(tags, true)}</div>\n        </PostTitleContainer>\n      </Wrapper>\n    );\n  }\n\n  private handleOnScroll = () => {\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this.setState({ pageTop: window.scrollY });\n      });\n    } else {\n      this.setState({ pageTop: window.scrollY });\n    }\n  };\n}\n\nexport default PostHeading;\n","import * as React from \"react\";\nimport { FacebookShareButton, TwitterShareButton } from \"react-share\";\nimport styled from \"react-emotion\";\nimport { graphql } from \"gatsby\";\nimport { Location } from \"@reach/router\";\n\nimport AuthorInfo, {\n  AuthorAvatar,\n  AuthorName,\n  AuthorDesc,\n} from \"../components/AuthorInfo\";\nimport Icon from \"../components/Icon\";\nimport Page from \"../components/Page\";\nimport PostHeading from \"../components/PostHeading\";\nimport Container from \"../components/Container\";\nimport IndexLayout from \"../layouts\";\nimport { getEmSize, fadeIn, articleStyle } from \"../styles/mixins\";\nimport { colors, breakpoints } from \"../styles/variables\";\n\ninterface SeeAlsoItem {\n  icon: \"APP_STORE\" | \"GITHUB\" | \"PLAY_STORE\" | \"WEB\";\n  uri: string;\n  label: string;\n}\n\nconst PostWrapper = styled.article`\n  font-size: 1.25rem;\n\n  @media (max-width: ${getEmSize(breakpoints.md)}em) {\n    margin-left: 0;\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.sm)}em) {\n    font-size: 1.125rem;\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.xs)}em) {\n    font-size: 1rem;\n  }\n`;\n\ninterface ShareSheetProps {\n  fixed: boolean;\n}\n\nconst ShareSheet = styled.aside`\n  position: ${(props: ShareSheetProps) => (props.fixed ? \"fixed\" : \"absolute\")};\n  top: ${(props: ShareSheetProps) => (props.fixed ? \"131px\" : \"auto\")};\n  right: 50%;\n  font-size: 0.75rem;\n  font-weight: 500;\n  text-align: right;\n  color: ${colors.gray60};\n  transform: translateX(470px);\n\n  a,\n  .SocialMediaShareButton {\n    position: relative;\n    display: block;\n    margin-left: auto;\n    margin-bottom: 0.625rem;\n    width: 24px;\n    color: ${colors.gray40};\n    cursor: pointer;\n    transition: color 0.5s;\n\n    &:hover {\n      color: ${colors.gray60};\n    }\n\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  a {\n    &:hover::before {\n      position: absolute;\n      top: 0.5rem;\n      right: 26px;\n      width: 0;\n      height: 0;\n      content: attr(title);\n      color: rgba(0, 0, 0, 0);\n      overflow: hidden;\n      border-left: 4px solid rgba(0, 0, 0, 0.5);\n      border-top: 4px solid transparent;\n      border-bottom: 4px solid transparent;\n    }\n\n    &:hover::after {\n      position: absolute;\n      top: 0.125rem;\n      right: 30px;\n      content: attr(title);\n      padding: 0 10px;\n      font-size: 1.167em;\n      white-space: nowrap;\n      color: #fff;\n      border-radius: 5px;\n      background: rgba(0, 0, 0, 0.5);\n    }\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.lg)}em) {\n    display: none;\n  }\n`;\n\nconst ShareSheetTitles = styled.h5`\n  margin: 1rem 0 5px;\n  font-size: 1em;\n  font-weight: inherit;\n\n  &:first-of-type {\n    margin-top: 0;\n  }\n`;\n\nconst TOCWrapper = styled.nav`\n  color: ${colors.gray40};\n  transition: color 0.5s;\n\n  &:hover {\n    color: ${colors.gray80};\n  }\n\n  > i {\n    position: ${(props: ShareSheetProps) =>\n      props.fixed ? \"fixed\" : \"absolute\"};\n    top: ${(props: ShareSheetProps) => (props.fixed ? \"125px\" : \"auto\")};\n    margin-top: 0.15em;\n    width: 30px;\n    line-height: 1.5rem;\n  }\n\n  > div {\n    position: ${(props: ShareSheetProps) =>\n      props.fixed ? \"fixed\" : \"absolute\"};\n    top: ${(props: ShareSheetProps) => (props.fixed ? \"115px\" : \"auto\")};\n    margin-left: 30px;\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.sm)}em) {\n    display: ${(props: ShareSheetProps) => (props.fixed ? \"block\" : \"none\")};\n\n    > i {\n      display: block;\n      top: 44px;\n      left: 0;\n      margin-top: 0;\n      width: 56px;\n      height: 50px;\n      z-index: 1100;\n      padding: 10px 36px 10px 16px;\n    }\n\n    > div {\n      top: 89px;\n      left: 0;\n      right: 0;\n      margin-left: 0;\n\n      > ul {\n        width: 100%;\n        box-shadow: none;\n        border-radius: 0;\n        border-bottom: 1px solid ${colors.gray15};\n      }\n    }\n  }\n`;\n\nconst TOC = styled.div`\n  z-index: 50;\n  font-size: 1rem;\n\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    list-style-image: none;\n\n    p {\n      margin: 0;\n    }\n\n    a {\n      display: block;\n      margin-left: -0.5rem;\n      margin-right: -0.5rem;\n      padding: 0.3rem 0.5rem;\n      border-radius: 0.5rem;\n      transition: background-color 0.5s;\n\n      &:hover {\n        background-color: ${colors.gray10};\n      }\n    }\n\n    &:not(:first-child) {\n      padding-left: 1rem;\n    }\n  }\n\n  > ul {\n    width: 240px;\n    max-height: 360px;\n    overflow-y: auto;\n    padding: 0.5rem 1rem;\n    display: none;\n    background: ${colors.white};\n    border-radius: 10px;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);\n  }\n\n  li {\n  }\n\n  nav:hover & ul,\n  nav &:hover ul {\n    display: block;\n    animation: ${fadeIn} 0.5s;\n  }\n`;\n\nconst Article = styled.article`\n  ${articleStyle} padding: 0 70px;\n\n  @media (min-width: ${getEmSize(\n      breakpoints.xs,\n    )}em) and (max-width: ${getEmSize(breakpoints.md)}em) {\n    padding-left: 40px;\n    padding-right: 40px;\n\n    .gatsby-resp-iframe-wrapper,\n    .gatsby-resp-image-wrapper,\n    .image-wrapper {\n      margin-left: -60px !important;\n      margin-right: -60px !important;\n    }\n  }\n\n  @media (min-width: ${getEmSize(\n      breakpoints.xs,\n    )}em) and (max-width: ${getEmSize(breakpoints.sm)}em) {\n    .gatsby-resp-iframe-wrapper,\n    .gatsby-resp-image-wrapper,\n    .image-wrapper {\n      margin-left: -56px !important;\n      margin-right: -56px !important;\n    }\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.xs)}em) {\n    padding-left: 0;\n    padding-right: 0;\n\n    .gatsby-resp-iframe-wrapper,\n    .gatsby-resp-image-wrapper,\n    .image-wrapper {\n      margin-left: -16px !important;\n      margin-right: -16px !important;\n    }\n  }\n`;\n\nconst PostAuthorAvatar = styled(AuthorAvatar)`\n  @media (max-width: ${getEmSize(breakpoints.md)}em) {\n    float: none;\n    margin-bottom: 0.75rem;\n    width: 2.25rem;\n    height: 2.25rem;\n  }\n`;\n\nconst PostAuthorInfo = styled(AuthorInfo)`\n  margin-top: 40px;\n\n  @media (min-width: ${getEmSize(\n      breakpoints.xs,\n    )}em) and (max-width: ${getEmSize(breakpoints.md)}em) {\n    padding-left: 40px;\n  }\n\n  @media (max-width: ${getEmSize(breakpoints.xs)}em) {\n    padding-left: 0;\n  }\n`;\n\nconst PostAuthorName = styled(AuthorName)`\n  margin-top: 2px;\n  margin-left: 70px;\n  font-size: 1.125rem;\n\n  @media (max-width: ${getEmSize(breakpoints.md)}em) {\n    margin-left: 0;\n  }\n`;\n\nconst PostAuthorDesc = styled(AuthorDesc)`\n  margin-left: 70px;\n  @media (max-width: ${getEmSize(breakpoints.md)}em) {\n    margin-left: 0;\n  }\n`;\n\nconst PostDate = styled(PostAuthorDesc)`\n  margin-top: 1.125rem;\n  margin-bottom: 1.5rem;\n\n  @media (max-width: ${getEmSize(breakpoints.md)}em) {\n    margin-top: 0;\n  }\n`;\n\ninterface PageTemplateProps {\n  data: {\n    site: {\n      siteMetadata: {\n        title: string;\n        description: string;\n        author: {\n          name: string;\n          url: string;\n        };\n      };\n    };\n    markdownRemark: {\n      html: string;\n      excerpt: string;\n      tableOfContents: string;\n      fields: {\n        github?: string;\n        playstore?: string;\n        appstore?: string;\n        link?: string;\n        linkDesc?: string;\n      };\n      frontmatter: {\n        author: {\n          id: string;\n          name: string;\n          bio: string;\n          avatar: {\n            children: Array<{\n              fixed: {\n                src: string;\n              };\n            }>;\n          };\n        };\n        authorDesc: string;\n        date: string;\n        tags?: string;\n        title: string;\n        titleImage: {\n          childImageSharp: {\n            resize: {\n              src: string;\n            };\n          };\n        };\n      };\n    };\n  };\n}\n\ninterface PageTemplateState {\n  shareSheetFixed: boolean;\n  tocFixed: boolean;\n}\n\nclass PageTemplate extends React.PureComponent<\n  PageTemplateProps,\n  PageTemplateState\n> {\n  public readonly state: PageTemplateState = {\n    shareSheetFixed: false,\n    tocFixed: false,\n  };\n\n  private offsets: number[] = [];\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n    this.calculateOffsets();\n    window.addEventListener(\"resize\", this.calculateOffsets);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n    window.removeEventListener(\"resize\", this.calculateOffsets);\n  }\n\n  public render() {\n    const post = this.props.data.markdownRemark;\n    const seeAlso = [\n      post.fields.github\n        ? {\n            icon: \"GITHUB\",\n            label: \"GitHub 저장소 바로가기\",\n            uri: post.fields.github,\n          }\n        : undefined,\n      post.fields.playstore\n        ? {\n            icon: \"PLAY_STORE\",\n            label: \"Play Store 바로가기\",\n            uri: post.fields.playstore,\n          }\n        : undefined,\n      post.fields.appstore\n        ? {\n            icon: \"APP_STORE\",\n            label: \"App Store 바로가기\",\n            uri: post.fields.appstore,\n          }\n        : undefined,\n      post.fields.link\n        ? {\n            icon: \"WEB\",\n            label: post.fields.linkDesc || \"관련 링크\",\n            uri: post.fields.link,\n          }\n        : undefined,\n    ].filter(x => x) as SeeAlsoItem[];\n\n    return (\n      <IndexLayout>\n        <Page>\n          <PostHeading\n            titleImage={post.frontmatter.titleImage.childImageSharp.resize.src}\n            title={post.frontmatter.title}\n            tags={post.frontmatter.tags}\n          />\n          <Container>\n            <Location>\n              {({ location }) => (\n                <ShareSheet fixed={this.state.shareSheetFixed}>\n                  <ShareSheetTitles>Share</ShareSheetTitles>\n                  <FacebookShareButton url={location.href}>\n                    <Icon name=\"FACEBOOK\" />\n                  </FacebookShareButton>\n                  <TwitterShareButton\n                    title=\"Twitter로 공유\"\n                    url={location.href}\n                  >\n                    <Icon name=\"TWITTER\" />\n                  </TwitterShareButton>\n                  {seeAlso.length ? (\n                    <ShareSheetTitles>See also</ShareSheetTitles>\n                  ) : null}\n                  {seeAlso.map(x => (\n                    <a\n                      key={x.icon}\n                      href={x!.uri}\n                      target=\"_blank\"\n                      title={x.label}\n                    >\n                      <Icon name={x!.icon} />\n                    </a>\n                  ))}\n                </ShareSheet>\n              )}\n            </Location>\n            <PostAuthorInfo>\n              <PostAuthorAvatar\n                src={post.frontmatter.author.avatar.children[0].fixed.src}\n              />\n              <PostAuthorName>{post.frontmatter.author.name}</PostAuthorName>\n              <PostAuthorDesc>{post.frontmatter.author.bio}</PostAuthorDesc>\n              <PostDate>{post.frontmatter.date}</PostDate>\n            </PostAuthorInfo>\n            <PostWrapper id=\"article\">\n              <TOCWrapper fixed={this.state.tocFixed}>\n                <Icon name=\"TOC\" />\n                <TOC\n                  dangerouslySetInnerHTML={{\n                    __html: post.tableOfContents,\n                  }}\n                />\n              </TOCWrapper>\n              <Article dangerouslySetInnerHTML={{ __html: post.html }} />\n            </PostWrapper>\n          </Container>\n        </Page>\n      </IndexLayout>\n    );\n  }\n\n  private handleOnScroll = () => {\n    const calculateFloatingElements = () => {\n      if (window.scrollY > 335 && !this.state.shareSheetFixed) {\n        this.setState({ shareSheetFixed: true });\n      } else if (window.scrollY < 335 && this.state.shareSheetFixed) {\n        this.setState({ shareSheetFixed: false });\n      }\n\n      if (\n        (window.innerWidth <= breakpoints.sm && window.scrollY > 414) ||\n        window.scrollY > 506\n      ) {\n        if (!this.state.tocFixed) {\n          this.setState({ tocFixed: true });\n        }\n      } else if (window.scrollY < 506 && this.state.tocFixed) {\n        this.setState({ tocFixed: false });\n      }\n    };\n\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        calculateFloatingElements();\n      });\n    } else {\n      calculateFloatingElements();\n    }\n  };\n\n  private calculateOffsets = () => {\n    const articleContainer = document.getElementById(\"article\")!;\n    const wideElements = articleContainer.querySelectorAll(\n      \".gatsby-resp-image-wrapper, .gatsby-resp-iframe-wrapper, .image-wrapper\",\n    );\n    wideElements.forEach(x => {\n      const element = x as HTMLElement;\n      this.offsets.push(element.offsetTop);\n      this.offsets.push(element.offsetTop + element.offsetHeight);\n    });\n  };\n}\n\nexport default PageTemplate;\n\nexport const query = graphql`\n  query PostTemplateQuery($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      excerpt\n      tableOfContents\n      fields {\n        github\n        playstore\n        appstore\n        link\n        linkDesc\n      }\n      frontmatter {\n        author {\n          id\n          name\n          bio\n          avatar {\n            children {\n              ... on ImageSharp {\n                fixed(width: 96, height: 96, quality: 85) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        date\n        title\n        tags\n        titleImage {\n          childImageSharp {\n            resize(width: 1920) {\n              src\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import styled from \"react-emotion\";\n\nimport { clearfix } from \"../styles/mixins\";\nimport { colors } from \"../styles/variables\";\n\ninterface BackgroundFigureProps {\n  src?: string;\n}\n\nconst AuthorInfo = styled.aside`\n  ${clearfix} margin-top: 10px;\n`;\n\nexport const AuthorAvatar = styled.figure`\n  float: left;\n  margin: 0;\n  width: 3rem;\n  height: 3rem;\n  border-radius: 1.5rem;\n  background-color: ${colors.gray10};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: BackgroundFigureProps) =>\n    props.src ? `url(${props.src})` : \"none\"};\n`;\n\nexport const AuthorName = styled.strong`\n  display: block;\n  margin: 4px 0 0 60px;\n  font-weight: 600;\n  line-height: 1.3;\n  color: ${colors.gray100};\n`;\n\nexport const AuthorDesc = styled.aside`\n  margin-left: 60px;\n  font-size: 0.875rem;\n  color: ${colors.gray60};\n`;\n\nexport default AuthorInfo;\n","import * as React from \"react\";\nimport { navigate } from \"gatsby\";\n\ntype Tags = string | undefined;\n\ninterface TagLinkProps {\n  tagName: string;\n}\n\nclass TagLink extends React.PureComponent<TagLinkProps> {\n  public render() {\n    return <span onClick={this.handleOnClick}>#{this.props.tagName}</span>;\n  }\n\n  private handleOnClick = (e: React.MouseEvent<HTMLSpanElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigate(`/tags/${this.props.tagName}`);\n  };\n}\n\nexport const transformTags = (tags: Tags = \"\", withLink?: boolean) =>\n  withLink\n    ? tags.split(\",\").map(x => <TagLink key={x} tagName={x.trim()} />)\n    : tags\n        .split(\",\")\n        .map(x => `#${x.trim()}`)\n        .join(\" \");\n"],"sourceRoot":""}