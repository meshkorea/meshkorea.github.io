{"version":3,"sources":["webpack:///./src/components/PostHeading.tsx","webpack:///./src/templates/post.tsx","webpack:///./src/components/AuthorInfo.tsx","webpack:///./src/utils/tag.tsx"],"names":["Wrapper","Object","index_esm","target","variables","white","gray80","props","titleImage","PostTitleContainer","Container","PostTitle","components_PostHeading","state","pageTop","handleOnScroll","window","requestAnimationFrame","_this","setState","scrollY","componentDidMount","this","addEventListener","componentWillUnmount","removeEventListener","render","_this$props","title","tags","react","style","backgroundPosition","innerHeight","tag","PostWrapper","ShareSheet","fixed","gray60","gray40","ShareSheetTitles","TOCWrapper","TOC","gray10","mixins","Article","PostAuthorInfo","AuthorInfo","PostAuthorName","PostAuthorDesc","PostDate","post_PageTemplate","shareSheetFixed","tocFixed","offsets","calculateFloatingElements","calculateOffsets","document","getElementById","querySelectorAll","forEach","x","element","push","offsetTop","offsetHeight","_this2","post","data","markdownRemark","seeAlso","fields","github","icon","label","uri","undefined","playstore","appstore","link","linkDesc","filter","layouts","Page","frontmatter","childImageSharp","resize","src","es","_ref","location","FacebookShareButton","url","href","Icon","name","TwitterShareButton","length","map","key","author","avatar","children","bio","date","id","dangerouslySetInnerHTML","__html","tableOfContents","html","query","react_emotion__WEBPACK_IMPORTED_MODULE_0__","_styles_mixins__WEBPACK_IMPORTED_MODULE_1__","AuthorAvatar","_styles_variables__WEBPACK_IMPORTED_MODULE_2__","AuthorName","gray100","AuthorDesc","__webpack_exports__","TagLink","handleOnClick","e","preventDefault","stopPropagation","gatsby__WEBPACK_IMPORTED_MODULE_5__","tagName","react__WEBPACK_IMPORTED_MODULE_4__","onClick","transformTags","withLink","split","trim","join"],"mappings":"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","file":"component---src-templates-post-tsx-d03ecc3d32e3390942c0.js","sourcesContent":["import * as React from \"react\";\nimport styled from \"react-emotion\";\n\nimport Container from \"../components/Container\";\nimport { colors } from \"../styles/variables\";\nimport { transformTags } from \"../utils/tag\";\n\ninterface PostHeadingProps {\n  titleImage: string;\n  title: string;\n  tags?: string;\n}\n\ninterface PostHeadingState {\n  pageTop: number;\n}\n\ninterface PostTitleProps {\n  titleImage?: string;\n}\n\nconst Wrapper = styled.div`\n  height: 360px;\n  font-size: 1.125em;\n  color: ${colors.white};\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n  background-color: ${colors.gray80};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: PostTitleProps) =>\n    props.titleImage ? `url(${props.titleImage})` : \"none\"};\n`;\n\nconst PostTitleContainer = styled(Container)`\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: flex-start;\n  height: 100%;\n  padding: 0 70px 20px;\n\n  > div span {\n    margin-right: 0.4em;\n    cursor: pointer;\n    opacity: 0.75;\n    transition: opacity 0.5s;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n`;\n\nconst PostTitle = styled.h1`\n  margin: 0;\n  word-break: keep-all;\n`;\n\nclass PostHeading extends React.PureComponent<\n  PostHeadingProps,\n  PostHeadingState\n> {\n  public readonly state: PostHeadingState = {\n    pageTop: 0,\n  };\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public render() {\n    const { titleImage, title, tags } = this.props;\n    const window = window;\n    return (\n      <Wrapper\n        titleImage={titleImage}\n        style={\n          window && {\n            backgroundPosition: `50% ${50 -\n              (this.state.pageTop / window.innerHeight) * 8}%`,\n          }\n        }\n      >\n        <PostTitleContainer>\n          <PostTitle>{title}</PostTitle>\n          <div>{transformTags(tags, true)}</div>\n        </PostTitleContainer>\n      </Wrapper>\n    );\n  }\n\n  private handleOnScroll = () => {\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this.setState({ pageTop: window.scrollY });\n      });\n    } else {\n      this.setState({ pageTop: window.scrollY });\n    }\n  };\n}\n\nexport default PostHeading;\n","import * as React from \"react\";\nimport { FacebookShareButton, TwitterShareButton } from \"react-share\";\nimport styled from \"react-emotion\";\nimport { graphql } from \"gatsby\";\nimport { Location } from \"@reach/router\";\n\nimport AuthorInfo, {\n  AuthorAvatar as PostAuthorAvatar,\n  AuthorName,\n  AuthorDesc,\n} from \"../components/AuthorInfo\";\nimport Icon from \"../components/Icon\";\nimport Page from \"../components/Page\";\nimport PostHeading from \"../components/PostHeading\";\nimport Container from \"../components/Container\";\nimport IndexLayout from \"../layouts\";\nimport { fadeIn, articleStyle } from \"../styles/mixins\";\nimport { colors } from \"../styles/variables\";\n\ninterface SeeAlsoItem {\n  icon: \"APP_STORE\" | \"GITHUB\" | \"PLAY_STORE\" | \"WEB\";\n  uri: string;\n  label: string;\n}\n\nconst PostWrapper = styled.article`\n  font-size: 1.25rem;\n`;\n\ninterface ShareSheetProps {\n  fixed: boolean;\n}\n\nconst ShareSheet = styled.aside`\n  position: ${(props: ShareSheetProps) => (props.fixed ? \"fixed\" : \"absolute\")};\n  top: ${(props: ShareSheetProps) => (props.fixed ? \"131px\" : \"auto\")};\n  right: 50%;\n  font-size: 0.75rem;\n  font-weight: 500;\n  text-align: right;\n  color: ${colors.gray60};\n  transform: translateX(470px);\n\n  a,\n  .SocialMediaShareButton {\n    position: relative;\n    display: block;\n    margin-left: auto;\n    margin-bottom: 0.625rem;\n    width: 24px;\n    color: ${colors.gray40};\n    cursor: pointer;\n    transition: color 0.5s;\n\n    &:hover {\n      color: ${colors.gray60};\n    }\n\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  a {\n    &:hover::before {\n      position: absolute;\n      top: 0.5rem;\n      right: 26px;\n      width: 0;\n      height: 0;\n      content: attr(title);\n      color: rgba(0, 0, 0, 0);\n      overflow: hidden;\n      border-left: 4px solid rgba(0, 0, 0, 0.5);\n      border-top: 4px solid transparent;\n      border-bottom: 4px solid transparent;\n    }\n\n    &:hover::after {\n      position: absolute;\n      top: 0.125rem;\n      right: 30px;\n      content: attr(title);\n      padding: 0 10px;\n      font-size: 1.167em;\n      white-space: nowrap;\n      color: #fff;\n      border-radius: 5px;\n      background: rgba(0, 0, 0, 0.5);\n    }\n  }\n`;\n\nconst ShareSheetTitles = styled.h5`\n  margin: 1rem 0 5px;\n  font-size: 1em;\n  font-weight: inherit;\n\n  &:first-of-type {\n    margin-top: 0;\n  }\n`;\n\nconst TOCWrapper = styled.nav`\n  position: ${(props: ShareSheetProps) => (props.fixed ? \"fixed\" : \"absolute\")};\n  top: ${(props: ShareSheetProps) => (props.fixed ? \"125px\" : \"auto\")};\n  margin-top: 0.15em;\n  width: 30px;\n  line-height: 1.5rem;\n  color: ${colors.gray40};\n  transition: color 0.5s;\n\n  &:hover {\n    color: ${colors.gray80};\n  }\n`;\n\nconst TOC = styled.div`\n  position: absolute;\n  top: -0.75em;\n  left: 30px;\n  z-index: 50;\n  font-size: 1rem;\n\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    list-style-image: none;\n\n    p {\n      margin: 0;\n    }\n\n    a {\n      display: block;\n      margin-left: -0.5rem;\n      margin-right: -0.5rem;\n      padding: 0.3rem 0.5rem;\n      border-radius: 0.5rem;\n      transition: background-color 0.5s;\n\n      &:hover {\n        background-color: ${colors.gray10};\n      }\n    }\n\n    &:not(:first-child) {\n      padding-left: 1rem;\n    }\n  }\n\n  > ul {\n    width: 240px;\n    max-height: 360px;\n    overflow-y: auto;\n    padding: 0.5rem 1rem;\n    display: none;\n    background: ${colors.white};\n    border-radius: 10px;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);\n  }\n\n  li {\n  }\n\n  nav:hover & ul,\n  nav &:hover ul {\n    display: block;\n    animation: ${fadeIn} 0.5s;\n  }\n`;\n\nconst Article = styled.article`\n  ${articleStyle} padding: 0 70px;\n`;\n\nconst PostAuthorInfo = styled(AuthorInfo)`\n  margin-top: 40px;\n`;\nconst PostAuthorName = styled(AuthorName)`\n  margin-top: 2px;\n  margin-left: 70px;\n  font-size: 1.125rem;\n`;\nconst PostAuthorDesc = styled(AuthorDesc)`\n  margin-left: 70px;\n`;\n\nconst PostDate = styled(PostAuthorDesc)`\n  margin-top: 18px;\n  margin-bottom: 1.5rem;\n`;\n\ninterface PageTemplateProps {\n  data: {\n    site: {\n      siteMetadata: {\n        title: string;\n        description: string;\n        author: {\n          name: string;\n          url: string;\n        };\n      };\n    };\n    markdownRemark: {\n      html: string;\n      excerpt: string;\n      tableOfContents: string;\n      fields: {\n        github?: string;\n        playstore?: string;\n        appstore?: string;\n        link?: string;\n        linkDesc?: string;\n      };\n      frontmatter: {\n        author: {\n          id: string;\n          name: string;\n          bio: string;\n          avatar: {\n            children: Array<{\n              fixed: {\n                src: string;\n              };\n            }>;\n          };\n        };\n        authorDesc: string;\n        date: string;\n        tags?: string;\n        title: string;\n        titleImage: {\n          childImageSharp: {\n            resize: {\n              src: string;\n            };\n          };\n        };\n      };\n    };\n  };\n}\n\ninterface PageTemplateState {\n  shareSheetFixed: boolean;\n  tocFixed: boolean;\n}\n\nclass PageTemplate extends React.PureComponent<\n  PageTemplateProps,\n  PageTemplateState\n> {\n  public readonly state: PageTemplateState = {\n    shareSheetFixed: false,\n    tocFixed: false,\n  };\n\n  private offsets: number[] = [];\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n    this.calculateOffsets();\n    window.addEventListener(\"resize\", this.calculateOffsets);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n    window.removeEventListener(\"resize\", this.calculateOffsets);\n  }\n\n  public render() {\n    const post = this.props.data.markdownRemark;\n    const seeAlso = [\n      post.fields.github\n        ? {\n            icon: \"GITHUB\",\n            label: \"GitHub 저장소 바로가기\",\n            uri: post.fields.github,\n          }\n        : undefined,\n      post.fields.playstore\n        ? {\n            icon: \"PLAY_STORE\",\n            label: \"Play Store 바로가기\",\n            uri: post.fields.playstore,\n          }\n        : undefined,\n      post.fields.appstore\n        ? {\n            icon: \"APP_STORE\",\n            label: \"App Store 바로가기\",\n            uri: post.fields.appstore,\n          }\n        : undefined,\n      post.fields.link\n        ? {\n            icon: \"WEB\",\n            label: post.fields.linkDesc || \"관련 링크\",\n            uri: post.fields.link,\n          }\n        : undefined,\n    ].filter(x => x) as SeeAlsoItem[];\n\n    return (\n      <IndexLayout>\n        <Page>\n          <PostHeading\n            titleImage={post.frontmatter.titleImage.childImageSharp.resize.src}\n            title={post.frontmatter.title}\n            tags={post.frontmatter.tags}\n          />\n          <Container>\n            <Location>\n              {({ location }) => (\n                <ShareSheet fixed={this.state.shareSheetFixed}>\n                  <ShareSheetTitles>Share</ShareSheetTitles>\n                  <FacebookShareButton url={location.href}>\n                    <Icon name=\"FACEBOOK\" />\n                  </FacebookShareButton>\n                  <TwitterShareButton\n                    title=\"Twitter로 공유\"\n                    url={location.href}\n                  >\n                    <Icon name=\"TWITTER\" />\n                  </TwitterShareButton>\n                  {seeAlso.length ? (\n                    <ShareSheetTitles>See also</ShareSheetTitles>\n                  ) : null}\n                  {seeAlso.map(x => (\n                    <a\n                      key={x.icon}\n                      href={x!.uri}\n                      target=\"_blank\"\n                      title={x.label}\n                    >\n                      <Icon name={x!.icon} />\n                    </a>\n                  ))}\n                </ShareSheet>\n              )}\n            </Location>\n            <PostAuthorInfo>\n              <PostAuthorAvatar\n                src={post.frontmatter.author.avatar.children[0].fixed.src}\n              />\n              <PostAuthorName>{post.frontmatter.author.name}</PostAuthorName>\n              <PostAuthorDesc>{post.frontmatter.author.bio}</PostAuthorDesc>\n              <PostDate>{post.frontmatter.date}</PostDate>\n            </PostAuthorInfo>\n            <PostWrapper id=\"article\">\n              <TOCWrapper fixed={this.state.tocFixed}>\n                <Icon name=\"TOC\" />\n                <TOC\n                  dangerouslySetInnerHTML={{\n                    __html: post.tableOfContents,\n                  }}\n                />\n              </TOCWrapper>\n              <Article dangerouslySetInnerHTML={{ __html: post.html }} />\n            </PostWrapper>\n          </Container>\n        </Page>\n      </IndexLayout>\n    );\n  }\n\n  private handleOnScroll = () => {\n    const calculateFloatingElements = () => {\n      if (window.scrollY > 335 && !this.state.shareSheetFixed) {\n        this.setState({ shareSheetFixed: true });\n      } else if (window.scrollY < 335 && this.state.shareSheetFixed) {\n        this.setState({ shareSheetFixed: false });\n      }\n\n      if (window.scrollY > 476 && !this.state.tocFixed) {\n        this.setState({ tocFixed: true });\n      } else if (window.scrollY < 476 && this.state.tocFixed) {\n        this.setState({ tocFixed: false });\n      }\n    };\n\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        calculateFloatingElements();\n      });\n    } else {\n      calculateFloatingElements();\n    }\n  };\n\n  private calculateOffsets = () => {\n    const articleContainer = document.getElementById(\"article\")!;\n    const wideElements = articleContainer.querySelectorAll(\n      \".gatsby-resp-image-wrapper, .gatsby-resp-iframe-wrapper, .image-wrapper\",\n    );\n    wideElements.forEach(x => {\n      const element = x as HTMLElement;\n      this.offsets.push(element.offsetTop);\n      this.offsets.push(element.offsetTop + element.offsetHeight);\n    });\n  };\n}\n\nexport default PageTemplate;\n\nexport const query = graphql`\n  query PostTemplateQuery($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      excerpt\n      tableOfContents\n      fields {\n        github\n        playstore\n        appstore\n        link\n        linkDesc\n      }\n      frontmatter {\n        author {\n          id\n          name\n          bio\n          avatar {\n            children {\n              ... on ImageSharp {\n                fixed(width: 96, height: 96, quality: 85) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        date\n        title\n        tags\n        titleImage {\n          childImageSharp {\n            resize(width: 1920) {\n              src\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import styled from \"react-emotion\";\n\nimport { clearfix } from \"../styles/mixins\";\nimport { colors } from \"../styles/variables\";\n\ninterface BackgroundFigureProps {\n  src?: string;\n}\n\nconst AuthorInfo = styled.aside`\n  ${clearfix} margin-top: 10px;\n`;\n\nexport const AuthorAvatar = styled.figure`\n  float: left;\n  margin: 0;\n  width: 3rem;\n  height: 3rem;\n  border-radius: 1.5rem;\n  background-color: ${colors.gray10};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: BackgroundFigureProps) =>\n    props.src ? `url(${props.src})` : \"none\"};\n`;\n\nexport const AuthorName = styled.strong`\n  display: block;\n  margin: 4px 0 0 60px;\n  font-weight: 600;\n  line-height: 1.3;\n  color: ${colors.gray100};\n`;\n\nexport const AuthorDesc = styled.aside`\n  margin-left: 60px;\n  font-size: 0.875rem;\n  color: ${colors.gray60};\n`;\n\nexport default AuthorInfo;\n","import * as React from \"react\";\nimport { navigate } from \"gatsby\";\n\ntype Tags = string | undefined;\n\ninterface TagLinkProps {\n  tagName: string;\n}\n\nclass TagLink extends React.PureComponent<TagLinkProps> {\n  public render() {\n    return <span onClick={this.handleOnClick}>#{this.props.tagName}</span>;\n  }\n\n  private handleOnClick = (e: React.MouseEvent<HTMLSpanElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigate(`/tags/${this.props.tagName}`);\n  };\n}\n\nexport const transformTags = (tags: Tags = \"\", withLink?: boolean) =>\n  withLink\n    ? tags.split(\",\").map(x => <TagLink key={x} tagName={x.trim()} />)\n    : tags\n        .split(\",\")\n        .map(x => `#${x.trim()}`)\n        .join(\" \");\n"],"sourceRoot":""}