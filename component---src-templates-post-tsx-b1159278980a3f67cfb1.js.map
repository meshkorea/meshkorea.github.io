{"version":3,"sources":["webpack:///./src/components/PostHeading.tsx","webpack:///./src/templates/post.tsx","webpack:///./src/components/AuthorInfo.tsx","webpack:///./src/utils/tag.tsx"],"names":["Wrapper","Object","index_esm","target","variables","white","gray80","props","titleImage","PostTitleContainer","Container","PostTitle","components_PostHeading","state","pageTop","handleOnScroll","window","requestAnimationFrame","_this","setState","scrollY","componentDidMount","this","addEventListener","componentWillUnmount","removeEventListener","render","_this$props","title","tags","react","style","backgroundPosition","tag","PostWrapper","ShareSheet","fixed","gray60","gray40","ShareSheetTitles","TOCWrapper","TOC","gray10","mixins","Article","PostAuthorInfo","AuthorInfo","PostAuthorName","PostAuthorDesc","PostDate","post_PageTemplate","shareSheetFixed","tocFixed","offsets","calculateFloatingElements","calculateOffsets","document","getElementById","querySelectorAll","forEach","x","element","push","offsetTop","offsetHeight","_this2","post","data","markdownRemark","seeAlso","fields","github","icon","label","uri","undefined","playstore","appstore","link","linkDesc","filter","layouts","Page","frontmatter","childImageSharp","resize","src","es","_ref","location","FacebookShareButton","url","href","Icon","name","TwitterShareButton","length","map","key","author","avatar","children","bio","date","id","dangerouslySetInnerHTML","__html","tableOfContents","html","query","react_emotion__WEBPACK_IMPORTED_MODULE_0__","_styles_mixins__WEBPACK_IMPORTED_MODULE_1__","AuthorAvatar","_styles_variables__WEBPACK_IMPORTED_MODULE_2__","AuthorName","gray100","AuthorDesc","__webpack_exports__","TagLink","handleOnClick","e","preventDefault","stopPropagation","gatsby__WEBPACK_IMPORTED_MODULE_5__","tagName","react__WEBPACK_IMPORTED_MODULE_4__","onClick","transformTags","withLink","split","trim","join"],"mappings":"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","file":"component---src-templates-post-tsx-b1159278980a3f67cfb1.js","sourcesContent":["import * as React from \"react\";\nimport styled from \"react-emotion\";\n\nimport Container from \"../components/Container\";\nimport { colors } from \"../styles/variables\";\nimport { transformTags } from \"../utils/tag\";\n\ninterface PostHeadingProps {\n  titleImage: string;\n  title: string;\n  tags?: string;\n}\n\ninterface PostHeadingState {\n  pageTop: number;\n}\n\ninterface PostTitleProps {\n  titleImage?: string;\n}\n\nconst Wrapper = styled.div`\n  height: 360px;\n  font-size: 1.125em;\n  color: ${colors.white};\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n  background-color: ${colors.gray80};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: PostTitleProps) =>\n    props.titleImage ? `url(${props.titleImage})` : \"none\"};\n`;\n\nconst PostTitleContainer = styled(Container)`\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: flex-start;\n  height: 100%;\n  padding: 0 70px 20px;\n\n  > div span {\n    margin-right: 0.4em;\n    cursor: pointer;\n    opacity: 0.75;\n    transition: opacity 0.5s;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n`;\n\nconst PostTitle = styled.h1`\n  margin: 0;\n  word-break: keep-all;\n`;\n\nclass PostHeading extends React.PureComponent<\n  PostHeadingProps,\n  PostHeadingState\n> {\n  public readonly state: PostHeadingState = {\n    pageTop: 0,\n  };\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n  }\n\n  public render() {\n    const { titleImage, title, tags } = this.props;\n    return (\n      <Wrapper\n        titleImage={titleImage}\n        style={{\n          backgroundPosition: `50% ${50 - (this.state.pageTop / 600) * 8}%`,\n        }}\n      >\n        <PostTitleContainer>\n          <PostTitle>{title}</PostTitle>\n          <div>{transformTags(tags, true)}</div>\n        </PostTitleContainer>\n      </Wrapper>\n    );\n  }\n\n  private handleOnScroll = () => {\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this.setState({ pageTop: window.scrollY });\n      });\n    } else {\n      this.setState({ pageTop: window.scrollY });\n    }\n  };\n}\n\nexport default PostHeading;\n","import * as React from \"react\";\nimport { FacebookShareButton, TwitterShareButton } from \"react-share\";\nimport styled from \"react-emotion\";\nimport { graphql } from \"gatsby\";\nimport { Location } from \"@reach/router\";\n\nimport AuthorInfo, {\n  AuthorAvatar as PostAuthorAvatar,\n  AuthorName,\n  AuthorDesc,\n} from \"../components/AuthorInfo\";\nimport Icon from \"../components/Icon\";\nimport Page from \"../components/Page\";\nimport PostHeading from \"../components/PostHeading\";\nimport Container from \"../components/Container\";\nimport IndexLayout from \"../layouts\";\nimport { fadeIn, articleStyle } from \"../styles/mixins\";\nimport { colors } from \"../styles/variables\";\n\ninterface SeeAlsoItem {\n  icon: \"APP_STORE\" | \"GITHUB\" | \"PLAY_STORE\" | \"WEB\";\n  uri: string;\n  label: string;\n}\n\nconst PostWrapper = styled.article`\n  font-size: 1.25rem;\n`;\n\ninterface ShareSheetProps {\n  fixed: boolean;\n}\n\nconst ShareSheet = styled.aside`\n  position: ${(props: ShareSheetProps) => (props.fixed ? \"fixed\" : \"absolute\")};\n  top: ${(props: ShareSheetProps) => (props.fixed ? \"131px\" : \"auto\")};\n  right: 50%;\n  font-size: 0.75rem;\n  font-weight: 500;\n  text-align: right;\n  color: ${colors.gray60};\n  transform: translateX(490px);\n\n  a,\n  .SocialMediaShareButton {\n    position: relative;\n    display: block;\n    margin-left: auto;\n    margin-bottom: 0.625rem;\n    width: 24px;\n    color: ${colors.gray40};\n    cursor: pointer;\n    transition: color 0.5s;\n\n    &:hover {\n      color: ${colors.gray60};\n    }\n\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  a {\n    &:hover::before {\n      position: absolute;\n      top: 0.5rem;\n      right: 26px;\n      width: 0;\n      height: 0;\n      content: attr(title);\n      color: rgba(0, 0, 0, 0);\n      overflow: hidden;\n      border-left: 4px solid rgba(0, 0, 0, 0.5);\n      border-top: 4px solid transparent;\n      border-bottom: 4px solid transparent;\n    }\n\n    &:hover::after {\n      position: absolute;\n      top: 0.125rem;\n      right: 30px;\n      content: attr(title);\n      padding: 0 10px;\n      font-size: 1.167em;\n      white-space: nowrap;\n      color: #fff;\n      border-radius: 5px;\n      background: rgba(0, 0, 0, 0.5);\n    }\n  }\n\n  @media (max-width: 61.25em) {\n    display: none;\n  }\n`;\n\nconst ShareSheetTitles = styled.h5`\n  margin: 1rem 0 5px;\n  font-size: 1em;\n  font-weight: inherit;\n\n  &:first-of-type {\n    margin-top: 0;\n  }\n`;\n\nconst TOCWrapper = styled.nav`\n  position: ${(props: ShareSheetProps) => (props.fixed ? \"fixed\" : \"absolute\")};\n  top: ${(props: ShareSheetProps) => (props.fixed ? \"125px\" : \"auto\")};\n  margin-top: 0.15em;\n  width: 30px;\n  line-height: 1.5rem;\n  color: ${colors.gray40};\n  transition: color 0.5s;\n\n  &:hover {\n    color: ${colors.gray80};\n  }\n`;\n\nconst TOC = styled.div`\n  position: absolute;\n  top: -0.75em;\n  left: 30px;\n  z-index: 50;\n  font-size: 1rem;\n\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    list-style-image: none;\n\n    p {\n      margin: 0;\n    }\n\n    a {\n      display: block;\n      margin-left: -0.5rem;\n      margin-right: -0.5rem;\n      padding: 0.3rem 0.5rem;\n      border-radius: 0.5rem;\n      transition: background-color 0.5s;\n\n      &:hover {\n        background-color: ${colors.gray10};\n      }\n    }\n\n    &:not(:first-child) {\n      padding-left: 1rem;\n    }\n  }\n\n  > ul {\n    width: 240px;\n    max-height: 360px;\n    overflow-y: auto;\n    padding: 0.5rem 1rem;\n    display: none;\n    background: ${colors.white};\n    border-radius: 10px;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);\n  }\n\n  li {\n  }\n\n  nav:hover & ul,\n  nav &:hover ul {\n    display: block;\n    animation: ${fadeIn} 0.5s;\n  }\n`;\n\nconst Article = styled.article`\n  ${articleStyle} padding: 0 70px;\n`;\n\nconst PostAuthorInfo = styled(AuthorInfo)`\n  margin-top: 40px;\n`;\nconst PostAuthorName = styled(AuthorName)`\n  margin-top: 2px;\n  margin-left: 70px;\n  font-size: 1.125rem;\n`;\nconst PostAuthorDesc = styled(AuthorDesc)`\n  margin-left: 70px;\n`;\n\nconst PostDate = styled(PostAuthorDesc)`\n  margin-top: 18px;\n  margin-bottom: 1.5rem;\n`;\n\ninterface PageTemplateProps {\n  data: {\n    site: {\n      siteMetadata: {\n        title: string;\n        description: string;\n        author: {\n          name: string;\n          url: string;\n        };\n      };\n    };\n    markdownRemark: {\n      html: string;\n      excerpt: string;\n      tableOfContents: string;\n      fields: {\n        github?: string;\n        playstore?: string;\n        appstore?: string;\n        link?: string;\n        linkDesc?: string;\n      };\n      frontmatter: {\n        author: {\n          id: string;\n          name: string;\n          bio: string;\n          avatar: {\n            children: Array<{\n              fixed: {\n                src: string;\n              };\n            }>;\n          };\n        };\n        authorDesc: string;\n        date: string;\n        tags?: string;\n        title: string;\n        titleImage: {\n          childImageSharp: {\n            resize: {\n              src: string;\n            };\n          };\n        };\n      };\n    };\n  };\n}\n\ninterface PageTemplateState {\n  shareSheetFixed: boolean;\n  tocFixed: boolean;\n}\n\nclass PageTemplate extends React.PureComponent<\n  PageTemplateProps,\n  PageTemplateState\n> {\n  public readonly state: PageTemplateState = {\n    shareSheetFixed: false,\n    tocFixed: false,\n  };\n\n  private offsets: number[] = [];\n\n  public componentDidMount() {\n    this.handleOnScroll();\n    window.addEventListener(\"scroll\", this.handleOnScroll);\n    this.calculateOffsets();\n    window.addEventListener(\"resize\", this.calculateOffsets);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleOnScroll);\n    window.removeEventListener(\"resize\", this.calculateOffsets);\n  }\n\n  public render() {\n    const post = this.props.data.markdownRemark;\n    const seeAlso = [\n      post.fields.github\n        ? {\n            icon: \"GITHUB\",\n            label: \"GitHub 저장소 바로가기\",\n            uri: post.fields.github,\n          }\n        : undefined,\n      post.fields.playstore\n        ? {\n            icon: \"PLAY_STORE\",\n            label: \"Play Store 바로가기\",\n            uri: post.fields.playstore,\n          }\n        : undefined,\n      post.fields.appstore\n        ? {\n            icon: \"APP_STORE\",\n            label: \"App Store 바로가기\",\n            uri: post.fields.appstore,\n          }\n        : undefined,\n      post.fields.link\n        ? {\n            icon: \"WEB\",\n            label: post.fields.linkDesc || \"관련 링크\",\n            uri: post.fields.link,\n          }\n        : undefined,\n    ].filter(x => x) as SeeAlsoItem[];\n\n    return (\n      <IndexLayout>\n        <Page>\n          <PostHeading\n            titleImage={post.frontmatter.titleImage.childImageSharp.resize.src}\n            title={post.frontmatter.title}\n            tags={post.frontmatter.tags}\n          />\n          <Container>\n            <Location>\n              {({ location }) => (\n                <ShareSheet fixed={this.state.shareSheetFixed}>\n                  <ShareSheetTitles>Share</ShareSheetTitles>\n                  <FacebookShareButton url={location.href}>\n                    <Icon name=\"FACEBOOK\" />\n                  </FacebookShareButton>\n                  <TwitterShareButton\n                    title=\"Twitter로 공유\"\n                    url={location.href}\n                  >\n                    <Icon name=\"TWITTER\" />\n                  </TwitterShareButton>\n                  {seeAlso.length ? (\n                    <ShareSheetTitles>See also</ShareSheetTitles>\n                  ) : null}\n                  {seeAlso.map(x => (\n                    <a\n                      key={x.icon}\n                      href={x!.uri}\n                      target=\"_blank\"\n                      title={x.label}\n                    >\n                      <Icon name={x!.icon} />\n                    </a>\n                  ))}\n                </ShareSheet>\n              )}\n            </Location>\n            <PostAuthorInfo>\n              <PostAuthorAvatar\n                src={post.frontmatter.author.avatar.children[0].fixed.src}\n              />\n              <PostAuthorName>{post.frontmatter.author.name}</PostAuthorName>\n              <PostAuthorDesc>{post.frontmatter.author.bio}</PostAuthorDesc>\n              <PostDate>{post.frontmatter.date}</PostDate>\n            </PostAuthorInfo>\n            <PostWrapper id=\"article\">\n              <TOCWrapper fixed={this.state.tocFixed}>\n                <Icon name=\"TOC\" />\n                <TOC\n                  dangerouslySetInnerHTML={{\n                    __html: post.tableOfContents,\n                  }}\n                />\n              </TOCWrapper>\n              <Article dangerouslySetInnerHTML={{ __html: post.html }} />\n            </PostWrapper>\n          </Container>\n        </Page>\n      </IndexLayout>\n    );\n  }\n\n  private handleOnScroll = () => {\n    const calculateFloatingElements = () => {\n      if (window.scrollY > 335 && !this.state.shareSheetFixed) {\n        this.setState({ shareSheetFixed: true });\n      } else if (window.scrollY < 335 && this.state.shareSheetFixed) {\n        this.setState({ shareSheetFixed: false });\n      }\n\n      if (window.scrollY > 476 && !this.state.tocFixed) {\n        this.setState({ tocFixed: true });\n      } else if (window.scrollY < 476 && this.state.tocFixed) {\n        this.setState({ tocFixed: false });\n      }\n    };\n\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        calculateFloatingElements();\n      });\n    } else {\n      calculateFloatingElements();\n    }\n  };\n\n  private calculateOffsets = () => {\n    const articleContainer = document.getElementById(\"article\")!;\n    const wideElements = articleContainer.querySelectorAll(\n      \".gatsby-resp-image-wrapper, .gatsby-resp-iframe-wrapper, .image-wrapper\",\n    );\n    wideElements.forEach(x => {\n      const element = x as HTMLElement;\n      this.offsets.push(element.offsetTop);\n      this.offsets.push(element.offsetTop + element.offsetHeight);\n    });\n  };\n}\n\nexport default PageTemplate;\n\nexport const query = graphql`\n  query PostTemplateQuery($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      excerpt\n      tableOfContents\n      fields {\n        github\n        playstore\n        appstore\n        link\n        linkDesc\n      }\n      frontmatter {\n        author {\n          id\n          name\n          bio\n          avatar {\n            children {\n              ... on ImageSharp {\n                fixed(width: 96, height: 96, quality: 85) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        date\n        title\n        tags\n        titleImage {\n          childImageSharp {\n            resize(width: 1920) {\n              src\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import styled from \"react-emotion\";\n\nimport { clearfix } from \"../styles/mixins\";\nimport { colors } from \"../styles/variables\";\n\ninterface BackgroundFigureProps {\n  src?: string;\n}\n\nconst AuthorInfo = styled.aside`\n  ${clearfix} margin-top: 10px;\n`;\n\nexport const AuthorAvatar = styled.figure`\n  float: left;\n  margin: 0;\n  width: 3rem;\n  height: 3rem;\n  border-radius: 1.5rem;\n  background-color: ${colors.gray10};\n  background-position: 50% 50%;\n  background-size: cover;\n  background-image: ${(props: BackgroundFigureProps) =>\n    props.src ? `url(${props.src})` : \"none\"};\n`;\n\nexport const AuthorName = styled.strong`\n  display: block;\n  margin: 4px 0 0 60px;\n  font-weight: 600;\n  line-height: 1.3;\n  color: ${colors.gray100};\n`;\n\nexport const AuthorDesc = styled.aside`\n  margin-left: 60px;\n  font-size: 0.875rem;\n  color: ${colors.gray60};\n`;\n\nexport default AuthorInfo;\n","import * as React from \"react\";\nimport { navigate } from \"gatsby\";\n\ntype Tags = string | undefined;\n\ninterface TagLinkProps {\n  tagName: string;\n}\n\nclass TagLink extends React.PureComponent<TagLinkProps> {\n  public render() {\n    return <span onClick={this.handleOnClick}>#{this.props.tagName}</span>;\n  }\n\n  private handleOnClick = (e: React.MouseEvent<HTMLSpanElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigate(`/tags/${this.props.tagName}`);\n  };\n}\n\nexport const transformTags = (tags: Tags = \"\", withLink?: boolean) =>\n  withLink\n    ? tags.split(\",\").map(x => <TagLink key={x} tagName={x.trim()} />)\n    : tags\n        .split(\",\")\n        .map(x => `#${x.trim()}`)\n        .join(\" \");\n"],"sourceRoot":""}